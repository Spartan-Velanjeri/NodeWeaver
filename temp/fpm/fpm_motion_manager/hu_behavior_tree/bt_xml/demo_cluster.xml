<?xml version="1.0"?>
<root main_tree_to_execute="BehaviorTree">
    <!-- ////////// -->
    <BehaviorTree ID="BehaviorTree">
        <Sequence>
            <!-- <Action ID="loadpoints" totalpoints="{points_count_bb}"/> -->
            <Action ID="ConfiguredPose" handling_unit_configured_pose="4" name="move to lifting pose"/>
            <Action ID="moveliftabsolute_sim" requested_target_lift_level="2.3"/>
            <Action ID="ConfiguredPose" handling_unit_configured_pose="8" name="move to working plane pose"/>
            <Repeat num_cycles="{points_count_bb}">
                <Sequence>
                    <Action ID="getpoi" drill_point="{drill_point}" point_list="{drill_masks}" end_point="{end_point}" point_index="{point_index}" total="{points_count_bb}"/>
                    <Action ID="moveabsolute_sim" absolute_target_position="{drill_point}" name="move to start position"/>
                    <Action ID="moveabsolute_sim" absolute_target_position="{end_point}" name="fake drill process"/>
                    <Action ID="moveabsolute_sim" absolute_target_position="{drill_point}" name="move to start position again"/>
                    <Action ID="updatepoi" point_index="{point_index}" total="{points_count_bb}" update_index="{point_index}"/>
                </Sequence>
            </Repeat>
            <Action ID="ConfiguredPose" handling_unit_configured_pose="4" name="move to lifting pose"/>
            <Action ID="moveliftabsolute_sim" requested_target_lift_level="0.0"/>
        </Sequence>
    </BehaviorTree>
    <!-- ////////// -->
    <TreeNodesModel>
        <Action ID="ConfiguredPose">
            <input_port name="handling_unit_configured_pose" type="int"/>
        </Action>
        <Action ID="getpoi">
            <output_port name="drill_point" type="geometry_msgs::msg::Pose_&lt;std::allocator&lt;void&gt; &gt;"/>
            <output_port name="end_point" type="geometry_msgs::msg::Pose_&lt;std::allocator&lt;void&gt; &gt;"/>
            <input_port name="point_list"/>
            <input_port name="point_index" type="int"/>
            <input_port name="total" type="int"/>
        </Action>
        <Action ID="loadpoints">
            <output_port name="totalpoints" type="int"/>
        </Action>
        <Action ID="moveabsolute_sim">
            <input_port name="absolute_target_position" type="geometry_msgs::msg::Pose_&lt;std::allocator&lt;void&gt; &gt;"/>
        </Action>
        <Action ID="moveliftabsolute_sim">
            <input_port name="requested_target_lift_level" type="std_msgs::msg::Float32_&lt;std::allocator&lt;void&gt; &gt;"/>
        </Action>
        <Action ID="updatepoi">
            <input_port name="point_index" type="int"/>
            <input_port name="total" type="int"/>
            <output_port name="update_index" type="int"/>
        </Action>
    </TreeNodesModel>
    <!-- ////////// -->
</root>
